<div class="wrapper">
    <div class="container">
        <div class="card" *ngIf="user">
            <shared-plain-text-card [title]="'Your Card'" [payload]="getPayload()"></shared-plain-text-card>
        </div>
        <div class="form">
            <div class="form__title">
                Update Profile
            </div>
            <form class="form__body" [formGroup]="updateForm" (ngSubmit)="onSubmit()">
                <div class="error__message">{{errorMessage}}</div>
                <div class="form__fill">
                    <label for="email">Display name</label>
                    <input
                        type="text"
                        placeholder="username"
                        id="username"
                        class="medium"
                        [ngModel]="user?.getUsername()"
                        formControlName="username"
                    />
                    <span class="help-block">{{
                        checkChain(updateForm.get('username'))
                    }}</span>
                </div>
                <div class="form__fill">
                    <label for="email">Email</label>
                    <input
                        type="email"
                        placeholder="email"
                        id="email"
                        class="medium"
                        [ngModel]="user?.getEmail()"
                        formControlName="email"
                        readonly
                    />      
                    <span class="help-block">{{
                        checkChain(updateForm.get('email'))
                    }}</span>        
                </div>
                <div class="form__fill">
                    <label for="email">New Password</label>
                    <input
                        type="password"
                        placeholder="new password"
                        id="newPassword"
                        class="medium"
                        formControlName="newPassword"
                    />                
                </div>
                <div class="active__wrapper">
                    {{getErrorNoChange()}}
                    <shared-button [type]="'primary'" [size]="'medium'" [disabled]="updateForm.invalid || !!getErrorNoChange()">Update</shared-button>
                </div>
            </form>
        </div>
    </div>
</div>
